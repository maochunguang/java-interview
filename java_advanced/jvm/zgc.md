## zgc
ZGC（Z Garbage Collector）是Java虚拟机（JVM）中的一种垃圾回收器，它旨在实现低延迟的垃圾回收。
需要注意的是，ZGC是一种基于分代的垃圾回收器，它主要针对大堆内存环境进行优化。在低延迟的同时，ZGC也会对吞吐量产生一定的影响。因此，在选择垃圾回收器时需要综合考虑应用程序的性能需求和系统资源。

### zgc的垃圾回收流程
下面是ZGC垃圾回收的基本流程：

并发标记：ZGC会从根对象开始，使用并发线程遍历对象图，标记出所有活动对象。这个过程会和应用程序的执行并发进行，以减少停顿时间。

并发预备重分配：在并发标记的同时，ZGC会对可能产生碎片的区域进行预备重分配。这个过程会在空闲时进行，以减少后续的重分配时间。

并发重分配：ZGC会将标记为垃圾的对象进行回收，并将存活对象迁移至新的内存区域。这个过程会在并发模式下进行，以减少停顿时间。

并发清理：ZGC会对已经迁移完成的区域进行清理，以释放不再使用的内存空间。



### zgc的三色标记法和golang的区别
Go  语言和  Java  语言都使用了三色标记法来进行垃圾回收（GC）。尽管它们在实现细节上有所不同，但它们的核心概念是相似的。

在  Go  语言中，三色标记法由  Go  运行时自动执行，用于管理内存分配和回收。Go  语言中的三色标记法主要包括以下步骤：

初始标记（Black）：将所有对象标记为黑色。
标记已分配但未使用的内存（White）：从根对象（Root Object）开始，递归地遍历所有可达对象，并将它们标记为白色。在此过程中，如果一个对象已经被标记为白色，那么它的子对象也将被标记为白色。标记为白色的对象表示它们已经被分配，但尚未被使用。
标记正在使用的内存（Gray）：遍历所有可达对象，并将它们标记为灰色。标记为灰色的对象表示它们正在被使用。
清除未使用的内存（Black）：遍历所有白色对象，并将它们标记为黑色。此时，所有黑色对象都是可用的内存，可以被再次分配。
更新对象引用（White→Gray）：遍历所有灰色对象，并将它们重新标记为白色。这将允许灰色对象再次被标记为白色，以便在将来被重新使用。
在  Java  语言中，三色标记法由  Java  虚拟机（JVM）自动执行，用于管理内存分配和回收。Java  语言中的三色标记法主要包括以下步骤：

标记开始（White）：将所有对象标记为白色。
标记已分配但未使用的内存（White→ Gray）：从根对象（Root Object）开始，递归地遍历所有可达对象，并将它们标记为灰色。在此过程中，如果一个对象已经被标记为灰色，那么它的子对象也将被标记为灰色。标记为灰色的对象表示它们已经被分配，但尚未被使用。
标记正在使用的内存（Gray→Black）：遍历所有可达对象，并将它们标记为黑色。标记为黑色的对象表示它们正在被使用。
清除未使用的内存（White、Gray）：遍历所有白色和灰色对象，并将它们标记为垃圾。此时，所有垃圾对象都是可用的内存，可以被再次分配。
总之，Go  语言和  Java  语言的三色标记法在核心概念上相似，但在实现细节上有所不同。这些差异主要体现在标记过程的顺序、标记对象的类型以及垃圾回收的触发方式等方面。